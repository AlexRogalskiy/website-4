---
title: "structure"
description: describe datasets for computers
bref: describe datasets for computers
date: 2018-01-30T00:00:00-04:00
draft: false
---

If you're looking for tools to keep your data clean, well described, and interoperable with other datasets, structure is where that happens.

Datsaet _structure_ stores everything a computer will need to interpret the data in a dataset. Structure brings expressive tools for making datasets interoperable by storing all necessary details for interpreting data.

Structure is automatically inferred by qri based on the data you provide, making it possible to use qri without having to think about structure until you need to. Learning how to use dataset structures to your advantage, however, gives you tools to control what data is and isn't valid, and set your dataset up for proper interpretation with other datasets.

Structure also stores names and descriptions of the fields your data contains. This info while intended primarily for humans, often contains vital information about how to interpret the field, and so it's stored in structure.

These duties are broken down into three areas described below: Dataset stats, Data Format, and Schema.


## Dataset Stats
Whenever a dataset is added to qri, a number of important pieces of info about the dataset are automatically recorded. These dataset stats give basic info about storing and maintaining info.

#### Length
The length field stores the length of the file in bytes. This length measurement gives precise measurement of file size that we can turn into more human-readable mesurements (Megabytes, Gigs, etc)

#### Checksum
[Checksums](https://en.wikipedia.org/wiki/Checksum) help verify data hasn't changed or corrupted as it's moved around.

Dataset structure checksums are a [bas58-encoded](https://en.wikipedia.org/wiki/Base58) [multihash](https://github.com/multiformats/multihash#example) checksum of the entire data file this structure points to, defaulting to the SHA_2 256 hashing algorithm. It's worth noting that checksums are different from IPFS hashes, which are calculated after breaking the dataset file into blocks.

If you're familiar with IPFS, this might seem redundant, as the concept of checksums are built-into the network itself. These checksums are very useful when comparing your dataset with data that isn't stored on IPFS.


#### ErrCount
ErrCount records the number of errors generated by validating this dataset against it's schema

#### Entries
Entries number of top level entries in the dataset

## Data Format
Datasets on qri can be stored in a number of formats. Currently CSV & JSON file formats are supported. Data format stores all necessary info about the way your data is formatted to make it readable. 

#### Format
Format keeps the filetype of the dataset

#### FormatConfig
FormatConfig keeps any configurable details for the data format. For example, CSV files can have a "header row" that titles each column. Formatconfig stores that detail so the header row isn't accidentally read as data.

prior art for format includes the frictionless data [csv dialect](https://frictionlessdata.io/specs/csv-dialect/)


#### Compression
Data gets big. The compression field specifies how to decompress / recompress data to work with it.


#### Encoding
Encoding stores the character encoding for data. The default character encoding for all data on qri is utf-8.


## Schema
The word schema comes from the greek word for _shape_. Dataset schemas describe the "shape" of a dataset. 

qri uses [JSON Schemas](http://json-schema.org) to record schemas. JSON schema is a growing standard, most notably used in the [open API](https://www.openapis.org/) specification, which is used to connect up lots of different APIs around the internet. using Structures qri can use JSON schemas with data that isn't stored in JSON format, so while the _schema_ is stored in JSON, the _data_ doesn't need to be. 

The JSON schema site has great [examples](http://json-schema.org/examples.html) to get you started with schemas, and there's a wonderful online schema editor at [jsonschema.net](https://jsonschema.net). qri uses the draft 07 (latest) version of the spec.

Schemas are also where qri keeps the titles and descriptions of fields. You are _very much encouraged_ to use these fields to describe your data so others can understand how to interpret your data.